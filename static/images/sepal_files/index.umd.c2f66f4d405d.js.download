(function(Z){typeof define=="function"&&define.amd?define(Z):Z()})(function(){"use strict";var Z="0.6.6",U=globalThis,Je=U.window!==void 0,ye;ye=U.document;var q=function(e){return e},x=function(e,t){var n=ye.createElement(e);return n.className=(t||[]).map(function(i){return o.prefix+i}).join(" "),n},W=function(e){var t=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");return t},R=function(e){return e.join?e.map(R).join(""):e},Ye=function(){return U.marked||typeof require=="function"&&require("marked")},Ze=function(){var e=U.ansi_up||typeof require=="function"&&require("ansi_up");return e&&e.ansi_to_html},qe=function(){var e=U.DOMPurify||typeof require=="function"&&require("dompurify");return Je?e&&e.sanitize:e(dom.window).sanitize},o={prefix:"nb-",markdown:Ye()||q,ansi:Ze()||q,sanitizer:qe()||q,highlighter:q,VERSION:Z};o.Input=function(e,t){this.raw=e,this.cell=t},o.Input.prototype.render=function(){if(!this.raw.length)return x("div");var e=x("div",["input"]),t=this.cell;typeof t.number=="number"&&e.setAttribute("data-prompt-number",this.cell.number);var n=x("pre"),i=x("code"),f=t.worksheet.notebook,b=f.metadata,c=this.cell.raw.language||b.language||b.kernelspec&&b.kernelspec.language||b.language_info&&b.language_info.name;return i.setAttribute("data-language",c),i.className="lang-"+c,i.innerHTML=o.highlighter(W(R(this.raw)),n,i,c),n.appendChild(i),e.appendChild(n),this.el=e,e};var we=function(e){return function(t){var n=x("img",["image-output"]);return n.src="data:image/"+e+";base64,"+R(t).replace(/\n/g,""),n}};o.display={},o.display.text=function(e){var t=x("pre",["text-output"]);return t.innerHTML=W(R(e)),t},o.display["text/plain"]=o.display.text,o.display.html=function(e){var t=x("div",["html-output"]);return t.innerHTML=o.sanitizer(R(e)),t},o.display["text/html"]=o.display.html,o.display.marked=function(e){return o.display.html(o.markdown(R(e)))},o.display["text/markdown"]=o.display.marked,o.display.svg=function(e){var t=x("div",["svg-output"]);return t.innerHTML=R(e),t},o.display["text/svg+xml"]=o.display.svg,o.display["image/svg+xml"]=o.display.svg,o.display.latex=function(e){var t=x("div",["latex-output"]);return t.innerHTML=R(e),t},o.display["text/latex"]=o.display.latex,o.display.javascript=function(e){var t=x("script");return t.innerHTML=R(e),t},o.display["application/javascript"]=o.display.javascript,o.display.png=we("png"),o.display["image/png"]=o.display.png,o.display.jpeg=we("jpeg"),o.display["image/jpeg"]=o.display.jpeg,o.display_priority=["png","image/png","jpeg","image/jpeg","svg","image/svg+xml","text/svg+xml","html","text/html","text/markdown","latex","text/latex","javascript","application/javascript","text","text/plain"];var oe=function(){var e=this,t=o.display_priority.filter(function(i){return e.raw.data?e.raw.data[i]:e.raw[i]}),n=t[0];return n&&o.display[n]?o.display[n](e.raw[n]||e.raw.data[n]):x("div",["empty-output"])},ve=function(){var e=x("pre",["pyerr"]),t=this.raw.traceback.join(`
`);return e.innerHTML=o.highlighter(o.ansi(W(t)),e),e};o.Output=function(e,t){this.raw=e,this.cell=t,this.type=e.output_type},o.Output.prototype.renderers={display_data:oe,execute_result:oe,pyout:oe,pyerr:ve,error:ve,stream:function(){var e=x("pre",[this.raw.stream||this.raw.name]),t=R(this.raw.text);return e.innerHTML=o.highlighter(o.ansi(W(t)),e),e}},o.Output.prototype.render=function(){var e=x("div",["output"]);typeof this.cell.number=="number"&&e.setAttribute("data-prompt-number",this.cell.number);var t=this.renderers[this.type].call(this);return e.appendChild(t),this.el=e,e},o.coalesceStreams=function(e){if(!e.length)return e;var t=e[0],n=[t];return e.slice(1).forEach(function(i){i.raw.output_type==="stream"&&t.raw.output_type==="stream"&&i.raw.stream===t.raw.stream&&i.raw.name===t.raw.name?t.raw.text=t.raw.text.concat(i.raw.text):(n.push(i),t=i)}),n},o.Cell=function(e,t){var n=this;if(n.raw=e,n.worksheet=t,n.type=e.cell_type,n.type==="code"){n.number=e.prompt_number>-1?e.prompt_number:e.execution_count;var i=e.input||[e.source];n.input=new o.Input(i,n);var f=(n.raw.outputs||[]).map(function(b){return new o.Output(b,n)});n.outputs=o.coalesceStreams(f)}};var Ve=[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}];o.Cell.prototype.renderers={markdown:function(){var e=x("div",["cell","markdown-cell"]),t=R(this.raw.source);return U.renderMathInElement!=null?(e.innerHTML=o.sanitizer(t),U.renderMathInElement(e,{delimiters:Ve}),e.innerHTML=o.sanitizer(o.markdown(e.innerHTML.replace(/&gt;/g,">")))):e.innerHTML=o.sanitizer(o.markdown(t)),e},heading:function(){var e=x("h"+this.raw.level,["cell","heading-cell"]);return e.innerHTML=o.sanitizer(R(this.raw.source)),e},raw:function(){var e=x("div",["cell","raw-cell"]);return e.innerHTML=W(R(this.raw.source)),e},code:function(){var e=x("div",["cell","code-cell"]);return e.appendChild(this.input.render()),this.outputs.forEach(function(t){e.appendChild(t.render())}),e}},o.Cell.prototype.render=function(){var e=this.renderers[this.type].call(this);return this.el=e,e},o.Worksheet=function(e,t){var n=this;this.raw=e,this.notebook=t,this.cells=e.cells.map(function(i){return new o.Cell(i,n)}),this.render=function(){var i=x("div",["worksheet"]);return n.cells.forEach(function(f){i.appendChild(f.render())}),this.el=i,i}},o.Notebook=function(e,t){var n=this;this.raw=e,this.config=t;var i=this.metadata=e.metadata||{};this.title=i.title||i.name;var f=e.worksheets||[{cells:e.cells}];this.worksheets=f.map(function(b){return new o.Worksheet(b,n)}),this.sheet=this.worksheets[0]},o.Notebook.prototype.render=function(){var e=x("div",["notebook"]);return this.worksheets.forEach(function(t){e.appendChild(t.render())}),this.el=e,e},o.parse=function(e,t){return new o.Notebook(e,t)};var ce={exports:{}};function le(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&le(n)}),e}ce.exports=le,ce.exports.default=le;var Qe=ce.exports;class xe{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Me(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function B(e,...t){const n=Object.create(null);for(const i in e)n[i]=e[i];return t.forEach(function(i){for(const f in i)n[f]=i[f]}),n}const et="</span>",me=e=>!!e.kind,tt=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((i,f)=>`${i}${"_".repeat(f+1)}`)].join(" ")}return`${t}${e}`};class nt{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Me(t)}openNode(t){if(!me(t))return;let n=t.kind;t.sublanguage?n=`language-${n}`:n=tt(n,{prefix:this.classPrefix}),this.span(n)}closeNode(t){!me(t)||(this.buffer+=et)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class ue{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n={kind:t,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(i=>this._walk(t,i)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{ue._collapse(n)})))}}class it extends ue{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const i=t.root;i.kind=n,i.sublanguage=!0,this.add(i)}toHTML(){return new nt(this,this.options).value()}finalize(){return!0}}function X(e){return e?typeof e=="string"?e:e.source:null}function Se(e){return j("(?=",e,")")}function rt(e){return j("(?:",e,")*")}function st(e){return j("(?:",e,")?")}function j(...e){return e.map(n=>X(n)).join("")}function at(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function de(...e){const t=at(e);return"("+(t.capture?"":"?:")+e.map(i=>X(i)).join("|")+")"}function Re(e){return new RegExp(e.toString()+"|").exec("").length-1}function ot(e,t){const n=e&&e.exec(t);return n&&n.index===0}const ct=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ge(e,{joinWith:t}){let n=0;return e.map(i=>{n+=1;const f=n;let b=X(i),c="";for(;b.length>0;){const s=ct.exec(b);if(!s){c+=b;break}c+=b.substring(0,s.index),b=b.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?c+="\\"+String(Number(s[1])+f):(c+=s[0],s[0]==="("&&n++)}return c}).map(i=>`(${i})`).join(t)}const lt=/\b\B/,Ne="[a-zA-Z]\\w*",fe="[a-zA-Z_]\\w*",Oe="\\b\\d+(\\.\\d+)?",Ae="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Te="\\b(0b[01]+)",ut="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",dt=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=j(t,/.*\b/,e.binary,/\b.*/)),B({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,i)=>{n.index!==0&&i.ignoreMatch()}},e)},J={begin:"\\\\[\\s\\S]",relevance:0},gt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[J]},ft={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[J]},ht={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},V=function(e,t,n={}){const i=B({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const f=de("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:j(/[ ]+/,"(",f,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},pt=V("//","$"),bt=V("/\\*","\\*/"),Et=V("#","$"),_t={scope:"number",begin:Oe,relevance:0},yt={scope:"number",begin:Ae,relevance:0},wt={scope:"number",begin:Te,relevance:0},vt={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[J,{begin:/\[/,end:/\]/,relevance:0,contains:[J]}]}]},xt={scope:"title",begin:Ne,relevance:0},Mt={scope:"title",begin:fe,relevance:0},mt={begin:"\\.\\s*"+fe,relevance:0};var Q=Object.freeze({__proto__:null,MATCH_NOTHING_RE:lt,IDENT_RE:Ne,UNDERSCORE_IDENT_RE:fe,NUMBER_RE:Oe,C_NUMBER_RE:Ae,BINARY_NUMBER_RE:Te,RE_STARTERS_RE:ut,SHEBANG:dt,BACKSLASH_ESCAPE:J,APOS_STRING_MODE:gt,QUOTE_STRING_MODE:ft,PHRASAL_WORDS_MODE:ht,COMMENT:V,C_LINE_COMMENT_MODE:pt,C_BLOCK_COMMENT_MODE:bt,HASH_COMMENT_MODE:Et,NUMBER_MODE:_t,C_NUMBER_MODE:yt,BINARY_NUMBER_MODE:wt,REGEXP_MODE:vt,TITLE_MODE:xt,UNDERSCORE_TITLE_MODE:Mt,METHOD_GUARD:mt,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})}});function St(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Rt(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Nt(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=St,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ot(e,t){!Array.isArray(e.illegal)||(e.illegal=de(...e.illegal))}function At(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Tt(e,t){e.relevance===void 0&&(e.relevance=1)}const kt=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(i=>{delete e[i]}),e.keywords=n.keywords,e.begin=j(n.beforeMatch,Se(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Lt=["of","and","for","in","not","or","if","then","parent","list","value"],It="keyword";function ke(e,t,n=It){const i=Object.create(null);return typeof e=="string"?f(n,e.split(" ")):Array.isArray(e)?f(n,e):Object.keys(e).forEach(function(b){Object.assign(i,ke(e[b],t,b))}),i;function f(b,c){t&&(c=c.map(s=>s.toLowerCase())),c.forEach(function(s){const l=s.split("|");i[l[0]]=[b,Ct(l[0],l[1])]})}}function Ct(e,t){return t?Number(t):Bt(e)?0:1}function Bt(e){return Lt.includes(e.toLowerCase())}const Le={},z=e=>{console.error(e)},Ie=(e,...t)=>{console.log(`WARN: ${e}`,...t)},F=(e,t)=>{Le[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Le[`${e}/${t}`]=!0)},ee=new Error;function Ce(e,t,{key:n}){let i=0;const f=e[n],b={},c={};for(let s=1;s<=t.length;s++)c[s+i]=f[s],b[s+i]=!0,i+=Re(t[s-1]);e[n]=c,e[n]._emit=b,e[n]._multi=!0}function Dt(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw z("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ee;if(typeof e.beginScope!="object"||e.beginScope===null)throw z("beginScope must be object"),ee;Ce(e,e.begin,{key:"beginScope"}),e.begin=ge(e.begin,{joinWith:""})}}function Ht(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw z("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ee;if(typeof e.endScope!="object"||e.endScope===null)throw z("endScope must be object"),ee;Ce(e,e.end,{key:"endScope"}),e.end=ge(e.end,{joinWith:""})}}function Pt(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function $t(e){Pt(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Dt(e),Ht(e)}function Ut(e){function t(c,s){return new RegExp(X(c),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(s?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,s]),this.matchAt+=Re(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(l=>l[1]);this.matcherRe=t(ge(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(s);if(!l)return null;const _=l.findIndex((N,O)=>O>0&&N!==void 0),E=this.matchIndexes[_];return l.splice(0,_),Object.assign(l,E)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const l=new n;return this.rules.slice(s).forEach(([_,E])=>l.addRule(_,E)),l.compile(),this.multiRegexes[s]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,l){this.rules.push([s,l]),l.type==="begin"&&this.count++}exec(s){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let _=l.exec(s);if(this.resumingScanAtSamePosition()&&!(_&&_.index===this.lastIndex)){const E=this.getMatcher(0);E.lastIndex=this.lastIndex+1,_=E.exec(s)}return _&&(this.regexIndex+=_.position+1,this.regexIndex===this.count&&this.considerAll()),_}}function f(c){const s=new i;return c.contains.forEach(l=>s.addRule(l.begin,{rule:l,type:"begin"})),c.terminatorEnd&&s.addRule(c.terminatorEnd,{type:"end"}),c.illegal&&s.addRule(c.illegal,{type:"illegal"}),s}function b(c,s){const l=c;if(c.isCompiled)return l;[Rt,At,$t,kt].forEach(E=>E(c,s)),e.compilerExtensions.forEach(E=>E(c,s)),c.__beforeBegin=null,[Nt,Ot,Tt].forEach(E=>E(c,s)),c.isCompiled=!0;let _=null;return typeof c.keywords=="object"&&c.keywords.$pattern&&(c.keywords=Object.assign({},c.keywords),_=c.keywords.$pattern,delete c.keywords.$pattern),_=_||/\w+/,c.keywords&&(c.keywords=ke(c.keywords,e.case_insensitive)),l.keywordPatternRe=t(_,!0),s&&(c.begin||(c.begin=/\B|\b/),l.beginRe=t(l.begin),!c.end&&!c.endsWithParent&&(c.end=/\B|\b/),c.end&&(l.endRe=t(l.end)),l.terminatorEnd=X(l.end)||"",c.endsWithParent&&s.terminatorEnd&&(l.terminatorEnd+=(c.end?"|":"")+s.terminatorEnd)),c.illegal&&(l.illegalRe=t(c.illegal)),c.contains||(c.contains=[]),c.contains=[].concat(...c.contains.map(function(E){return jt(E==="self"?c:E)})),c.contains.forEach(function(E){b(E,l)}),c.starts&&b(c.starts,s),l.matcher=f(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=B(e.classNameAliases||{}),b(e)}function Be(e){return e?e.endsWithParent||Be(e.starts):!1}function jt(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return B(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Be(e)?B(e,{starts:e.starts?B(e.starts):null}):Object.isFrozen(e)?B(e):e}var zt="11.5.1";class Kt extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const he=Me,De=B,He=Symbol("nomatch"),Ft=7;var Y=function(e){const t=Object.create(null),n=Object.create(null),i=[];let f=!0;const b="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:it};function l(r){return s.noHighlightRe.test(r)}function _(r){let d=r.className+" ";d+=r.parentNode?r.parentNode.className:"";const p=s.languageDetectRe.exec(d);if(p){const w=D(p[1]);return w||(Ie(b.replace("{}",p[1])),Ie("Falling back to no-highlight mode for this block.",r)),w?p[1]:"no-highlight"}return d.split(/\s+/).find(w=>l(w)||D(w))}function E(r,d,p){let w="",M="";typeof d=="object"?(w=r,p=d.ignoreIllegals,M=d.language):(F("10.7.0","highlight(lang, code, ...args) has been deprecated."),F("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),M=r,w=d),p===void 0&&(p=!0);const k={code:w,language:M};ie("before:highlight",k);const H=k.result?k.result:N(k.language,k.code,p);return H.code=k.code,ie("after:highlight",H),H}function N(r,d,p,w){const M=Object.create(null);function k(a,u){return a.keywords[u]}function H(){if(!g.keywords){m.addText(v);return}let a=0;g.keywordPatternRe.lastIndex=0;let u=g.keywordPatternRe.exec(v),h="";for(;u;){h+=v.substring(a,u.index);const y=$.case_insensitive?u[0].toLowerCase():u[0],S=k(g,y);if(S){const[C,gn]=S;if(m.addText(h),h="",M[y]=(M[y]||0)+1,M[y]<=Ft&&(ae+=gn),C.startsWith("_"))h+=u[0];else{const fn=$.classNameAliases[C]||C;m.addKeyword(u[0],fn)}}else h+=u[0];a=g.keywordPatternRe.lastIndex,u=g.keywordPatternRe.exec(v)}h+=v.substr(a),m.addText(h)}function re(){if(v==="")return;let a=null;if(typeof g.subLanguage=="string"){if(!t[g.subLanguage]){m.addText(v);return}a=N(g.subLanguage,v,!0,Xe[g.subLanguage]),Xe[g.subLanguage]=a._top}else a=A(v,g.subLanguage.length?g.subLanguage:null);g.relevance>0&&(ae+=a.relevance),m.addSublanguage(a._emitter,a.language)}function T(){g.subLanguage!=null?re():H(),v=""}function P(a,u){let h=1;const y=u.length-1;for(;h<=y;){if(!a._emit[h]){h++;continue}const S=$.classNameAliases[a[h]]||a[h],C=u[h];S?m.addKeyword(C,S):(v=C,H(),v=""),h++}}function Fe(a,u){return a.scope&&typeof a.scope=="string"&&m.openNode($.classNameAliases[a.scope]||a.scope),a.beginScope&&(a.beginScope._wrap?(m.addKeyword(v,$.classNameAliases[a.beginScope._wrap]||a.beginScope._wrap),v=""):a.beginScope._multi&&(P(a.beginScope,u),v="")),g=Object.create(a,{parent:{value:g}}),g}function Ge(a,u,h){let y=ot(a.endRe,h);if(y){if(a["on:end"]){const S=new xe(a);a["on:end"](u,S),S.isMatchIgnored&&(y=!1)}if(y){for(;a.endsParent&&a.parent;)a=a.parent;return a}}if(a.endsWithParent)return Ge(a.parent,u,h)}function on(a){return g.matcher.regexIndex===0?(v+=a[0],1):(_e=!0,0)}function cn(a){const u=a[0],h=a.rule,y=new xe(h),S=[h.__beforeBegin,h["on:begin"]];for(const C of S)if(!!C&&(C(a,y),y.isMatchIgnored))return on(u);return h.skip?v+=u:(h.excludeBegin&&(v+=u),T(),!h.returnBegin&&!h.excludeBegin&&(v=u)),Fe(h,a),h.returnBegin?0:u.length}function ln(a){const u=a[0],h=d.substr(a.index),y=Ge(g,a,h);if(!y)return He;const S=g;g.endScope&&g.endScope._wrap?(T(),m.addKeyword(u,g.endScope._wrap)):g.endScope&&g.endScope._multi?(T(),P(g.endScope,a)):S.skip?v+=u:(S.returnEnd||S.excludeEnd||(v+=u),T(),S.excludeEnd&&(v=u));do g.scope&&m.closeNode(),!g.skip&&!g.subLanguage&&(ae+=g.relevance),g=g.parent;while(g!==y.parent);return y.starts&&Fe(y.starts,a),S.returnEnd?0:u.length}function un(){const a=[];for(let u=g;u!==$;u=u.parent)u.scope&&a.unshift(u.scope);a.forEach(u=>m.openNode(u))}let se={};function We(a,u){const h=u&&u[0];if(v+=a,h==null)return T(),0;if(se.type==="begin"&&u.type==="end"&&se.index===u.index&&h===""){if(v+=d.slice(u.index,u.index+1),!f){const y=new Error(`0 width match regex (${r})`);throw y.languageName=r,y.badRule=se.rule,y}return 1}if(se=u,u.type==="begin")return cn(u);if(u.type==="illegal"&&!p){const y=new Error('Illegal lexeme "'+h+'" for mode "'+(g.scope||"<unnamed>")+'"');throw y.mode=g,y}else if(u.type==="end"){const y=ln(u);if(y!==He)return y}if(u.type==="illegal"&&h==="")return 1;if(Ee>1e5&&Ee>u.index*3)throw new Error("potential infinite loop, way more iterations than matches");return v+=h,h.length}const $=D(r);if(!$)throw z(b.replace("{}",r)),new Error('Unknown language: "'+r+'"');const dn=Ut($);let be="",g=w||dn;const Xe={},m=new s.__emitter(s);un();let v="",ae=0,K=0,Ee=0,_e=!1;try{for(g.matcher.considerAll();;){Ee++,_e?_e=!1:g.matcher.considerAll(),g.matcher.lastIndex=K;const a=g.matcher.exec(d);if(!a)break;const u=d.substring(K,a.index),h=We(u,a);K=a.index+h}return We(d.substr(K)),m.closeAllNodes(),m.finalize(),be=m.toHTML(),{language:r,value:be,relevance:ae,illegal:!1,_emitter:m,_top:g}}catch(a){if(a.message&&a.message.includes("Illegal"))return{language:r,value:he(d),illegal:!0,relevance:0,_illegalBy:{message:a.message,index:K,context:d.slice(K-100,K+100),mode:a.mode,resultSoFar:be},_emitter:m};if(f)return{language:r,value:he(d),illegal:!1,relevance:0,errorRaised:a,_emitter:m,_top:g};throw a}}function O(r){const d={value:he(r),illegal:!1,relevance:0,_top:c,_emitter:new s.__emitter(s)};return d._emitter.addText(r),d}function A(r,d){d=d||s.languages||Object.keys(t);const p=O(r),w=d.filter(D).filter(Ke).map(T=>N(T,r,!1));w.unshift(p);const M=w.sort((T,P)=>{if(T.relevance!==P.relevance)return P.relevance-T.relevance;if(T.language&&P.language){if(D(T.language).supersetOf===P.language)return 1;if(D(P.language).supersetOf===T.language)return-1}return 0}),[k,H]=M,re=k;return re.secondBest=H,re}function L(r,d,p){const w=d&&n[d]||p;r.classList.add("hljs"),r.classList.add(`language-${w}`)}function I(r){let d=null;const p=_(r);if(l(p))return;if(ie("before:highlightElement",{el:r,language:p}),r.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(r)),s.throwUnescapedHTML))throw new Kt("One of your code blocks includes unescaped HTML.",r.innerHTML);d=r;const w=d.textContent,M=p?E(w,{language:p,ignoreIllegals:!0}):A(w);r.innerHTML=M.value,L(r,p,M.language),r.result={language:M.language,re:M.relevance,relevance:M.relevance},M.secondBest&&(r.secondBest={language:M.secondBest.language,relevance:M.secondBest.relevance}),ie("after:highlightElement",{el:r,result:M,text:w})}function G(r){s=De(s,r)}const te=()=>{ne(),F("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Vt(){ne(),F("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let je=!1;function ne(){if(document.readyState==="loading"){je=!0;return}document.querySelectorAll(s.cssSelector).forEach(I)}function Qt(){je&&ne()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Qt,!1);function en(r,d){let p=null;try{p=d(e)}catch(w){if(z("Language definition for '{}' could not be registered.".replace("{}",r)),f)z(w);else throw w;p=c}p.name||(p.name=r),t[r]=p,p.rawDefinition=d.bind(null,e),p.aliases&&ze(p.aliases,{languageName:r})}function tn(r){delete t[r];for(const d of Object.keys(n))n[d]===r&&delete n[d]}function nn(){return Object.keys(t)}function D(r){return r=(r||"").toLowerCase(),t[r]||t[n[r]]}function ze(r,{languageName:d}){typeof r=="string"&&(r=[r]),r.forEach(p=>{n[p.toLowerCase()]=d})}function Ke(r){const d=D(r);return d&&!d.disableAutodetect}function rn(r){r["before:highlightBlock"]&&!r["before:highlightElement"]&&(r["before:highlightElement"]=d=>{r["before:highlightBlock"](Object.assign({block:d.el},d))}),r["after:highlightBlock"]&&!r["after:highlightElement"]&&(r["after:highlightElement"]=d=>{r["after:highlightBlock"](Object.assign({block:d.el},d))})}function sn(r){rn(r),i.push(r)}function ie(r,d){const p=r;i.forEach(function(w){w[p]&&w[p](d)})}function an(r){return F("10.7.0","highlightBlock will be removed entirely in v12.0"),F("10.7.0","Please use highlightElement now."),I(r)}Object.assign(e,{highlight:E,highlightAuto:A,highlightAll:ne,highlightElement:I,highlightBlock:an,configure:G,initHighlighting:te,initHighlightingOnLoad:Vt,registerLanguage:en,unregisterLanguage:tn,listLanguages:nn,getLanguage:D,registerAliases:ze,autoDetection:Ke,inherit:De,addPlugin:sn}),e.debugMode=function(){f=!1},e.safeMode=function(){f=!0},e.versionString=zt,e.regex={concat:j,lookahead:Se,either:de,optional:st,anyNumberOfTimes:rt};for(const r in Q)typeof Q[r]=="object"&&Qe(Q[r]);return Object.assign(e,Q),e}({}),Gt=Y;Y.HighlightJS=Y,Y.default=Y;var Pe=Gt,bn="";function Wt(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,i=["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},_={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},E={begin:/\{\{/,relevance:0},N={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,E,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,E,_]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,E,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,E,_]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},O="[0-9](_?[0-9])*",A=`(\\b(${O}))?\\.(${O})|\\b(${O})\\.`,L=`\\b|${i.join("|")}`,I={className:"number",relevance:0,variants:[{begin:`(\\b(${O})|(${A}))[eE][+-]?(${O})[jJ]?(?=${L})`},{begin:`(${A})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${L})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${L})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${L})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${L})`},{begin:`\\b(${O})[jJ](?=${L})`}]},G={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},te={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,I,N,e.HASH_COMMENT_MODE]}]};return _.contains=[N,I,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|->|\?)|=>/,contains:[l,I,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},N,G,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[te]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[I,te,N]}]}}function Xt(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},i={beginKeywords:["true","false","null"].join(" ")};return{name:"JSON",contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Jt(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},i={begin:"^[-\\*]{3,}",end:"$"},f={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},b={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},c={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},_={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},E={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]},N=e.inherit(_,{contains:[]}),O=e.inherit(E,{contains:[]});_.contains.push(O),E.contains.push(N);let A=[n,l];return[_,E,N,O].forEach(G=>{G.contains=G.contains.concat(A)}),A=A.concat(_,E),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:A},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:A}]}]},n,b,_,E,{className:"quote",begin:"^>\\s+",contains:A,end:"$"},f,i,l,c]}}const pe={python:Wt,json:Xt,markdown:Jt};Object.keys(pe).forEach(e=>Pe.registerLanguage(e,pe[e]));const Yt=(e,t)=>{if(typeof t=="undefined"&&(t="markup"),Object.keys(pe).includes(t))try{return Pe.highlight(e,{language:t}).value}catch{return console.warn(`Failed to use hljs language: ${t}`),e}else return e};o.highlighter=function(e,t,n,i){const f=i||"python";return t.className="language-"+f,typeof n!="undefined"&&(n.className="language-"+f),Yt(e,f)};var $e=(e=>(e.SCHEDULE_DISABLED="schedule-disabled",e))($e||{});const Zt=8,qt=30,Ue=e=>{e.preventDefault()};window.addEventListener("alpine:init",()=>{const{Alpine:e}=window;e.store("copy",{show:!1,toggle(){this.show=!0,setTimeout(()=>this.show=!1,2e3)}}),e.store("schedule",{disableSave:!1,init(){window.addEventListener($e.SCHEDULE_DISABLED,t=>{this.disableSave=t.detail})}}),e.store("reportSource",{on:!1,rendered:!1,sourceFileUrl:void 0,dragPos:0,resizeListener:void 0,async render(){try{const n=await(await fetch(this.sourceFileUrl)).json(),i=o.parse(n),f=document.querySelector("#ipynb-target");if(!f)throw"Couldn't find ipynb target element";f.innerHTML="",f.appendChild(i.render()),this.rendered=!0}catch(t){console.error("Report ipynb source error",t)}},toggle(){!this.rendered&&!this.on&&this.render(),this.on=!this.on},dragStart(t,n){n.offsetY<Zt&&(this.dragPos=n.y,this.resizeListener=i=>this.resize(t,i),document.addEventListener("mousemove",this.resizeListener,!1),document.addEventListener("selectstart",Ue))},dragEnd(){document.removeEventListener("mousemove",this.resizeListener,!1),document.removeEventListener("selectstart",Ue)},resize(t,n){const i=this.dragPos-n.y;this.dragPos=n.y;const f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.dragPos<0||this.dragPos>f-qt?this.dragEnd():t.style.height=`${parseInt(getComputedStyle(t).height)+i}px`}})})});
